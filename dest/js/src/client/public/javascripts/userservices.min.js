/*! bae-nodejs 09-03-2017 */
polls1.factory("userservice",["$q","$http",function(a,b){var c={islogin:!1,account:""},d=function(){var c=a.defer(),d=c.promise;return b.get("/user/status").success(function(a){c.resolve(a)}).error(function(a){c.reject(a)}),d},e=function(c){var d=a.defer(),e=d.promise,f={method:"post",url:"/user/login",data:{user:c}};return b(f).success(function(a){d.resolve(a)}),e},f=function(c){var d=a.defer(),e=d.promise,f={method:"post",url:"/user/register",data:{user:c}};return b(f).success(function(a){d.resolve(a)}),e},g=function(){var d=a.defer(),e=d.promise;return b.get("/user/logout").success(function(a){a.status?(c.islogin=!1,c.name="",d.resolve(a)):d.resolve(a)}).error(function(a){d.reject()}),e};return{signout:g,signup:f,signin:e,getUserStatus:d}}]);