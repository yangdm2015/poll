/*! bae-nodejs 09-03-2017 */
var polls1=angular.module("polls",["ngRoute"]).config(["$routeProvider",function(a){a.when("/polls",{templateUrl:"public/partials/list.html",controller:"PollListCtrl",access:{restricted:!1}}).when("/mypolls",{templateUrl:"public/partials/list.html",controller:"MyPollListCtrl",access:{restricted:!1}}).when("/myvotes",{templateUrl:"public/partials/list.html",controller:"MyVoteListCtrl",access:{restricted:!1}}).when("/poll/:pollId",{templateUrl:"public/partials/item.html",controller:"PollItemCtrl",access:{restricted:!1}}).when("/new",{templateUrl:"public/partials/new.html",controller:"PollNewCtrl",access:{restricted:!1}}).when("/login",{templateUrl:"public/partials/login.html",controller:"UserCtrl",access:{restricted:!1}}).when("/register",{templateUrl:"public/partials/register.html",controller:"UserCtrl",access:{restricted:!1}}).otherwise({redirectTo:"/polls"})}]);polls1.run(function(a,b,c,d){a.$on("$routeChangeStart",function(a,e,f){d.getUserStatus().then(function(a){null!=e.access&&e.access.restricted&&!a.islogin&&(console.log("reload!!!!!!!!!!!!!!"),b.path("/login"),c.reload())})})});